<form novalidate #f="ngForm" (ngSubmit)="onSubmit(f)">
    <mat-card>
        <mat-card-title>Registration Form</mat-card-title>
        <mat-card-content>
            <div class="flex">
                <mat-form-field>
                    <input matInput [ngModel]="user.firstName" name="firstName" placeholder="First name"/>
                </mat-form-field>
                <mat-form-field>
                    <input matInput [ngModel]="user.lastName" name="lastName" placeholder="Last name"/>
                </mat-form-field>
            </div>
            <input matInput #userInput="ngModel" [(ngModel)]="user.username" minlength="5" name="username" placeholder="Username"/>
            <mat-error *ngIf="userInput.invalid  && userInput.dirty ">Username must be longer than 5 letters</mat-error>
            <div ngModelGroup="address">
                <p>Address</p>
                <mat-form-field>
                    <input matInput [ngModel]="street" name="street" placeholder="Street"/>
                </mat-form-field>
                <div class="flex align-center">
                    <mat-form-field>
                        <input matInput ngModel name="city" placeholder="City"/>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-select ngModel name="state">
                            <mat-option value="" disabled>Select a state</mat-option>
                            <mat-option value="CA">CA</mat-option>
                            <mat-option value="NY">NY</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput ngModel name="zip" placeholder="zip" type="number"/>
                    </mat-form-field>
                </div>
            </div>
            <p>Would you like a newsletter?</p>
            <label for="yes">
                <input type="radio" value="true" id="yes" ngModel name="newsletter">
                Yes
            </label>
            <label for="no">
                <input type="radio" id="no" value="false" ngModel name="newsletter">
                No
            </label>
            <input type="checkbox" ngModel name="human"> I am not a robot
        </mat-card-content>
        <mat-card-actions align="end">
            <button mat-button color="primary" type="submit">SUBMIT</button>
        </mat-card-actions>
    </mat-card>
</form>
<pre>
    current value of user : {{user|json}}
    {{f.value|json}}
</pre>